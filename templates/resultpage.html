{% extends 'main.html' %}

{% block title %}Restaurants: Select from 3 from each group {% endblock %}

{% block content %}

  <div class="container" id="main-section">
    <h1>Restaurants: Check 3 you will likely visit from each group</h1>
    <a class="btn btn-primary btn-md btn-font pull-right" href="/machinelearning" role="button"><span class="fa fa-cutlery" aria-hidden="true"></span> Surprise Me!</a>
    {% if restaurant_results1 %}
      <h2>Group 1</h2>
      <div class="row">
        {% for restaurant in restaurant_results1 %}
          <div class="col-xs-12 col-md-6">
            <div class="list-group" id="restaurant-list">
              <a href="{{ restaurant.url }}" class="list-group-item">                
                <div class="media">
                  <div class="pull-left selection">
                    <input type="checkbox" id="{{ restaurant.yelpid }}"
                            value="{{ restaurant.yelpid }}">
                  </div>                  
                  <div class="media-left">
                    {% if restaurant.image_url %}
                      <img class="media-object" src="{{ restaurant.image_url }}" alt="Image for {{ restaurant.name }}">
                    {% else %}
                      <img class="media-object" src="http://placehold.it/100x100?text=No+Image+Available" alt="Image for {{ restaurant.name }}">
                    {% endif %}
                  </div><!-- /.media-left --> 
                  <div class="media-body">
                    <h3 class="media-heading">{{ restaurant.name }}</h3>
                    <p>
                      {{ restaurant.cuisine }}<br>
                      {{ restaurant.price }}
                    </p>
                  </div><!-- /.media-body -->  
                </div><!-- /.media -->            
              </a>
            </div><!-- /.list-group -->
          </div><!-- /.col -->
        {% endfor %}
      </div><!-- /.row -->
    {% else %}
      <div class="row">
        <div class="col-xs-12 col-md-6">
          <p>No results found. Please try again.</p>
        </div><!-- /.col -->
      </div><!-- /.row -->
    {% endif %}

    <hr>
    <!-- Group 2 -->
    {% if restaurant_results2 %}
      <h2>Group 2</h2>
      <div class="row">
        {% for restaurant in restaurant_results2 %}
          <div class="col-xs-12 col-md-6">
            <div class="list-group" id="restaurant-list">
              <a href="{{ restaurant.url }}" class="list-group-item">                
                <div class="media">
                  <div class="pull-left selection">
                    <input type="checkbox" id="{{ restaurant.yelpid }}"
                            value="{{ restaurant.yelpid }}">
                  </div>                  
                  <div class="media-left">
                    {% if restaurant.image_url %}
                      <img class="media-object" src="{{ restaurant.image_url }}" alt="Image for {{ restaurant.name }}">
                    {% else %}
                      <img class="media-object" src="http://placehold.it/100x100?text=No+Image+Available" alt="Image for {{ restaurant.name }}">
                    {% endif %}
                  </div><!-- /.media-left --> 
                  <div class="media-body">
                    <h3 class="media-heading">{{ restaurant.name }}</h3>
                    <p>
                      {{ restaurant.cuisine }}<br>
                      {{ restaurant.price }}
                    </p>
                  </div><!-- /.media-body -->  
                </div><!-- /.media -->            
              </a>
            </div><!-- /.list-group -->
          </div><!-- /.col -->
        {% endfor %}
      </div><!-- /.row -->
    {% else %}
      <div class="row">
        <div class="col-xs-12 col-md-6">
          <p>No results found. Please try again.</p>
        </div><!-- /.col -->
      </div><!-- /.row -->
    {% endif %}

    <hr>
    <!-- Group 3 -->
    {% if restaurant_results3 %}
      <h2>Group 3</h2>
      <div class="row">
        {% for restaurant in restaurant_results3 %}
          <div class="col-xs-12 col-md-6">
            <div class="list-group" id="restaurant-list">
              <a href="{{ restaurant.url }}" class="list-group-item">                
                <div class="media">
                  <div class="pull-left selection">
                    <input type="checkbox" id="{{ restaurant.yelpid }}"
                            value="{{ restaurant.yelpid }}">
                  </div>                  
                  <div class="media-left">
                    {% if restaurant.image_url %}
                      <img class="media-object" src="{{ restaurant.image_url }}" alt="Image for {{ restaurant.name }}">
                    {% else %}
                      <img class="media-object" src="http://placehold.it/100x100?text=No+Image+Available" alt="Image for {{ restaurant.name }}">
                    {% endif %}
                  </div><!-- /.media-left --> 
                  <div class="media-body">
                    <h3 class="media-heading">{{ restaurant.name }}</h3>
                    <p>
                      {{ restaurant.cuisine }}<br>
                      {{ restaurant.price }}
                    </p>
                  </div><!-- /.media-body -->  
                </div><!-- /.media -->            
              </a>
            </div><!-- /.list-group -->
          </div><!-- /.col -->
        {% endfor %}
      </div><!-- /.row -->
    {% else %}
      <div class="row">
        <div class="col-xs-12 col-md-6">
          <p>No results found. Please try again.</p>
        </div><!-- /.col -->
      </div><!-- /.row -->
    {% endif %}




  </div><!-- /.container -->

{% endblock %}

{% block javascript %}
  <script type='text/javascript' src='../static/js/resultpage.js'></script>
  <script type='text/javascript'>
      console.log(restaurant_results)
      SEARCH_RESULT.init (restaurant_results)
      SEARCH_RESULT.loadpage()
  </script>

{% endblock %}